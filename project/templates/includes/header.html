{% load static %}
<style>
    .search-suggestions {
    width: calc(100% - 40px);  /* Width of search bar minus button width */
    max-height: 200px;  /* Optional: Set a maximum height */
    overflow-y: auto;  /* Add a scrollbar if the suggestions exceed max-height */
    position: absolute;  /* To position it directly below the search input */
    top: 100%;  /* Push it down to be under the input */
    left: 0;  /* Align it to the left side of the search input */
    z-index: 1;  /* To ensure it shows above other elements */
    background-color: white;  /* Background color for the suggestion box */
    border: 1px solid #ccc;  /* Border around the suggestion box */
    border-top: none;  /* Remove top border to merge with search bar */
}

.search-suggestions div {
    padding: 10px;  /* Space inside each suggestion */
    cursor: pointer;  /* Change cursor to indicate clickable */
    border-bottom: 1px solid #eaeaea;  /* Border between suggestions */
}

.search-suggestions div:last-child {
    border-bottom: none;  /* Remove border from the last suggestion */
}

.search-suggestions div:hover {
    background-color: #f6f6f6;  /* Change background on hover for better UX */
}

</style>
		<!-- Start Header/Navigation -->
		<nav class="custom-navbar navbar navbar navbar-expand-md navbar-dark bg-dark" style="background-color: black !important;" arial-label="Furni navigation bar">

			<div class="container">
				<a class="navbar-brand" href="index.html">He & She <span>.</span></a>

				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsFurni" aria-controls="navbarsFurni" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				
				<div class="collapse navbar-collapse" id="navbarsFurni">
					<ul class="custom-navbar-nav navbar-nav ms-auto mb-2 mb-md-0">
						<li class="nav-item active">
							<a class="nav-link" href="{% url 'home' %}">Home</a>
						</li>
						<li><a class="nav-link" href="{% url 'mens' %}">Men</a></li>
						<li><a class="nav-link" href="{% url 'womens' %}">Women</a></li>
						<li><a class="nav-link" href="{% url 'wishlist' %}">Wishlist</a></li>
						<li><a class="nav-link" href="{% url 'shop' %}">Shop</a></li>
						<li><a class="nav-link" href="{% url 'contact' %}">Contact</a></li>
					</ul>

					<ul class="custom-navbar-cta navbar-nav mb-2 mb-md-0 ms-5">
						{% if user.is_authenticated %}
						<li><a class="nav-link" href="{% url 'profile' %}"><img src="{% static 'images/user.svg' %}" alt="profile"></a></li>
						{% else %}
						<li><a class="nav-link" href="{% url 'signup' %}"><img src="{% static 'images/user.svg' %}" alt="Signup"></a></li>
						{% endif %}
					
						<li><a class="nav-link" href="{% url 'cartt' %}"><img src="{% static 'images/cart.svg' %}" alt="Cart"></a></li>
						<div class="col-lg-6 col-6 text-left" style="width: 500px;margin-left:50px;">
							<form method="get" action="{% url 'search' %}">
								<div class="input-group">
									<input type="text" class="form-control" name="q" placeholder="Search for products">
									<div class="input-group-append">
										<button type="submit" class="btn btn-warning" style="width: 40px !important;">
											<i class="fa fa-search"></i>
										</button>
									</div>
								</div>
							</form>
						</div>

					</ul>
				</div>

				<script>
					document.addEventListener("DOMContentLoaded", function() {
						const searchInput = document.querySelector('input[name="q"]');
						const suggestionBox = document.createElement('div');
						suggestionBox.className = 'search-suggestions';
						searchInput.parentNode.parentNode.appendChild(suggestionBox);
				
				
						searchInput.addEventListener('input', function() {
							fetch(`/search-suggestions/?q=${this.value}`)
							.then(response => response.json())
							.then(data => {
								suggestionBox.innerHTML = '';
								data.forEach(item => {
									const div = document.createElement('div');
									div.innerText = item;
									div.addEventListener('click', function() {
										searchInput.value = this.innerText;
										suggestionBox.innerHTML = '';  // Clear the suggestions when one is clicked
									});
									suggestionBox.appendChild(div);
								});
							});
						});
					});
				</script>
			</div>			
		</nav>

		<!-- End Header/Navigation -->



